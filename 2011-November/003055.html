<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [eLua-dev] GPIO and timer interrupts for AVR32
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-dev/2011-November/index.html" >
   <LINK REL="made" HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20GPIO%20and%20timer%20interrupts%20for%20AVR32&In-Reply-To=%3CCAL4-wQpB9khLY2jxHhvYoKc5_WSyaSOjNgGGgw02GvXtradP%2Bg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003034.html">
   <LINK REL="Next"  HREF="003056.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[eLua-dev] GPIO and timer interrupts for AVR32</H1>
    <B>Martin Guy</B> 
    <A HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20GPIO%20and%20timer%20interrupts%20for%20AVR32&In-Reply-To=%3CCAL4-wQpB9khLY2jxHhvYoKc5_WSyaSOjNgGGgw02GvXtradP%2Bg%40mail.gmail.com%3E"
       TITLE="[eLua-dev] GPIO and timer interrupts for AVR32">martinwguy at gmail.com
       </A><BR>
    <I>Wed Nov 30 16:06:53 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003034.html">[eLua-dev] questions about development tools.
</A></li>
        <LI>Next message: <A HREF="003056.html">[eLua-dev] GPIO and timer interrupts for AVR32
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3055">[ date ]</a>
              <a href="thread.html#3055">[ thread ]</a>
              <a href="subject.html#3055">[ subject ]</a>
              <a href="author.html#3055">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, I'm incuding the list in this, as it regards a user-visible change

On 30 November 2011 08:54, Bogdan Marinescu &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">bogdan.marinescu at gmail.com</A>&gt; wrote:
&gt;<i> On Wed, Nov 30, 2011 at 8:38 AM, Martin Guy &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">martinwguy at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> Hi again. I've fixed some breakage in the timer interface:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; tmr.delay(0, 500000)
</I>&gt;&gt;<i> stdin:1: timer 500000 does not exist
</I>&gt;&gt;<i> &#160;- two params got swapped in one commit.
</I>&gt;<i>
</I>&gt;<i> They're not swapped, the API was changed. This was announced on the list:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://elua-development.2368040.n2.nabble.com/IMPORTANT-New-feature-on-the-master-branch-system-timer-td6918200.html">http://elua-development.2368040.n2.nabble.com/IMPORTANT-New-feature-on-the-master-branch-system-timer-td6918200.html</A>
</I>&gt;<i>
</I>&gt;<i> I also updated the documentation with this information.
</I>
Ah. My mistake, sorry.

Can I suggest rethinking that change in a way that lets existing code
continue to work, and lets people's existing knowledge of eLua
continue to be valid?
Swapping the parameters round has a high short-term cost in
user-surprise and long-term makes it impossible to write portable eLua
code, since tmr.delay() becomes unusable.

In general, optional parameters are not at attractive as they seem, as
they only lets you have one optional parameter per function (or a
series of them where each one's optionality depends on the previous
one being present).

How about, instead of

tmr.delay(id, delay) -&gt; timer.delay(delay, [id])

use

tmr.delay(id, delay) -&gt; timer.delay(id, delay)

where id may be nil to mean &quot;you choose&quot;, or to mirror the rest of the
timer-choice structure by defining tmr.SYS or .SYSTEM or .SYSTICK or
something?

   M

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003034.html">[eLua-dev] questions about development tools.
</A></li>
	<LI>Next message: <A HREF="003056.html">[eLua-dev] GPIO and timer interrupts for AVR32
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3055">[ date ]</a>
              <a href="thread.html#3055">[ thread ]</a>
              <a href="subject.html#3055">[ subject ]</a>
              <a href="author.html#3055">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-dev">More information about the eLua-dev
mailing list</a><br>
</body></html>

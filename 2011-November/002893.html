<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [eLua-dev] stm32f4 - timers issue in examples
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-dev/2011-November/index.html" >
   <LINK REL="made" HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20stm32f4%20-%20timers%20issue%20in%20examples&In-Reply-To=%3CCANKDJfaTv9dKJFxLCnrbyX%3Dm0QvEJzcCpc4JCt3WxwV8gaHPYw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002892.html">
   <LINK REL="Next"  HREF="002894.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[eLua-dev] stm32f4 - timers issue in examples</H1>
    <B>Bogdan Marinescu</B> 
    <A HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20stm32f4%20-%20timers%20issue%20in%20examples&In-Reply-To=%3CCANKDJfaTv9dKJFxLCnrbyX%3Dm0QvEJzcCpc4JCt3WxwV8gaHPYw%40mail.gmail.com%3E"
       TITLE="[eLua-dev] stm32f4 - timers issue in examples">bogdan.marinescu at gmail.com
       </A><BR>
    <I>Thu Nov 10 13:18:10 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002892.html">[eLua-dev] stm32f4 - timers issue in examples
</A></li>
        <LI>Next message: <A HREF="002894.html">[eLua-dev] stm32f4 - timers issue in examples
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2893">[ date ]</a>
              <a href="thread.html#2893">[ thread ]</a>
              <a href="subject.html#2893">[ subject ]</a>
              <a href="author.html#2893">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2011/11/10 Dado Sutter &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">dadosutter at gmail.com</A>&gt;

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> 2011/11/10 pito &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">pito at volna.cz</A>&gt;:
</I>&gt;<i> &gt; Hi, I'm new with elua - I've got the disco kit and trying to
</I>&gt;<i> &gt; understand the stuff..
</I>&gt;<i>
</I>&gt;<i> Welcome aboard
</I>&gt;<i>
</I>&gt;<i> &gt; I've created the environment and I can compile the elua (using
</I>&gt;<i> &gt; <A HREF="https://github.com/jsnyder/elua/tree/bikeNomad-master">https://github.com/jsnyder/elua/tree/bikeNomad-master</A>).
</I>&gt;<i> &gt; When running Zhanjun's ready hex file the demo's works, when running
</I>&gt;<i> &gt; compiled version from above branch I get errors on timers:
</I>&gt;<i> &gt; eLua# lua /rom/led.lua
</I>&gt;<i> &gt; Press CTRL+Z to exit Lua
</I>&gt;<i> &gt; Hello from eLua on STM32F4DSCY
</I>&gt;<i> &gt; Watch your LED blinking :)
</I>&gt;<i> &gt; Enjoy eLua !
</I>&gt;<i> &gt; Press any key to end this demo.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; lua: /rom/led.lua:43: timer 500000 does not exist
</I>&gt;<i>
</I>&gt;<i> 500000 should be the delay parameter (in microseconds), not the Timer ID.
</I>&gt;<i> Maybe James was experimenting some other syntax.
</I>&gt;<i>
</I>
Nope, the timer API has changed when the system timer was merged into the
master branch (search the list for more information). Now the timer ID is
always the last (optional) argument. I forgot to modify the samples, of
course :)

Best,
Bogdan


&gt;<i>
</I>&gt;<i> &gt; stack traceback:
</I>&gt;<i> &gt; [C]: in function 'delay'
</I>&gt;<i> &gt; /rom/led.lua:43: in function 'cycle'
</I>&gt;<i> &gt; /rom/led.lua:59: in main chunk
</I>&gt;<i> &gt; [C]: ?
</I>&gt;<i> &gt; eLua# lua /rom/pwmled.lua
</I>&gt;<i> &gt; Press CTRL+Z to exit Lua
</I>&gt;<i> &gt; Control LED with PWM (fade up/down)
</I>&gt;<i> &gt; Press any key to exit
</I>&gt;<i> &gt; lua: /rom/pwmled.lua:35: timer 50000 does not exist
</I>&gt;<i> &gt; stack traceback:
</I>&gt;<i> &gt; [C]: in function 'delay'
</I>&gt;<i> &gt; /rom/pwmled.lua:35: in main chunk
</I>&gt;<i> &gt; [C]: ?
</I>&gt;<i> &gt; eLua# lua /rom/adcscope.lua
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Is there any change in handling timers in the elua from jsnyder's
</I>&gt;<i> &gt; branch?
</I>&gt;<i> &gt; Thanks,
</I>&gt;<i> &gt; Pito
</I>&gt;<i>
</I>&gt;<i> Dado
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; Jak se vyhnout nachlazen&#237; a dal&#177;&#237;m zdravotn&#237;m pot&#237;&#181;&#237;m v nep&#345;&#237;jemn&#233;m
</I>&gt;<i> &gt; podzimn&#237;m obdob&#237;? &#268;t&#283;te speci&#225;l Zdrav&#237; na podzim na
</I>&gt;<i> &gt; <A HREF="http://web.volny.cz/data/click.php?id=1290">http://web.volny.cz/data/click.php?id=1290</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; eLua-dev mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">eLua-dev at lists.berlios.de</A>
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">https://lists.berlios.de/mailman/listinfo/elua-dev</A>
</I>&gt;<i> &gt;
</I>&gt;<i> _______________________________________________
</I>&gt;<i> eLua-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">eLua-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">https://lists.berlios.de/mailman/listinfo/elua-dev</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/elua-dev/attachments/20111110/9a1de1f3/attachment.html">https://lists.berlios.de/pipermail/elua-dev/attachments/20111110/9a1de1f3/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002892.html">[eLua-dev] stm32f4 - timers issue in examples
</A></li>
	<LI>Next message: <A HREF="002894.html">[eLua-dev] stm32f4 - timers issue in examples
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2893">[ date ]</a>
              <a href="thread.html#2893">[ thread ]</a>
              <a href="subject.html#2893">[ subject ]</a>
              <a href="author.html#2893">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-dev">More information about the eLua-dev
mailing list</a><br>
</body></html>

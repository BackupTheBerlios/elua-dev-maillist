<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [eLua-dev] eLua design change to allow synchronized PWM channel	start?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-dev/2011-April/index.html" >
   <LINK REL="made" HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20eLua%20design%20change%20to%20allow%20synchronized%20PWM%20channel%0A%09start%3F&In-Reply-To=%3CBANLkTinkyBU9Q98ZucRzCyoOocNPEMweDA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002240.html">
   <LINK REL="Next"  HREF="002242.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[eLua-dev] eLua design change to allow synchronized PWM channel	start?</H1>
    <B>Martin Guy</B> 
    <A HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20eLua%20design%20change%20to%20allow%20synchronized%20PWM%20channel%0A%09start%3F&In-Reply-To=%3CBANLkTinkyBU9Q98ZucRzCyoOocNPEMweDA%40mail.gmail.com%3E"
       TITLE="[eLua-dev] eLua design change to allow synchronized PWM channel	start?">martinwguy at gmail.com
       </A><BR>
    <I>Sun Apr  3 20:19:17 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002240.html">[eLua-dev] eLua @FLISOL 2011
</A></li>
        <LI>Next message: <A HREF="002242.html">[eLua-dev] eLua design change to allow synchronized PWM channel	start?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2241">[ date ]</a>
              <a href="thread.html#2241">[ thread ]</a>
              <a href="subject.html#2241">[ subject ]</a>
              <a href="author.html#2241">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi
   I'm looking at the AVR32 PWM stuff, and one thing that strikes me
is that the platform allows synchronized starting of several PWM
channels, but the eLua module interface to pwm forces you to start
them one by one.

Other eLua module functions can apply to a variable list of things,
for example the functions of the pio.* module which can set/clear a
range of pins in one operation.

I thought it would be best to discuss this here first, since it is a
change to the eLua API.

To avoid breaking existing code, this can be applied to functions
where the PWM channel id is the last (or only) parameter.

This is fine for pwm.start(id) and pwm_stop(id). pwm_start() is
exactly the one that makes an operational difference, since doing
synchronized starting is impossible at present.

pwm.setup(id, freq, duty) cannot be extended in this way unless it
accepts a number id or a table of ids as the first parameter, but it
seems a bit strange.
Is changing the frequency and/or duty cycle of several PWM output
synchronously (or as close to synchronously as can be achieved in
practice) a useful thing to be able to do?

That only leaves pwm.setclock( id, frequency ) and pwm.getclock( id )
- I doubt that extending these is useful. Anyway all the existing
platforms except one have a common base clock frequency for all PWM
channels.

Thoughts?  Sorry, I've never used PWM in practice so only see what is
possible, not what is actually useful in practice.

    M

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002240.html">[eLua-dev] eLua @FLISOL 2011
</A></li>
	<LI>Next message: <A HREF="002242.html">[eLua-dev] eLua design change to allow synchronized PWM channel	start?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2241">[ date ]</a>
              <a href="thread.html#2241">[ thread ]</a>
              <a href="subject.html#2241">[ subject ]</a>
              <a href="author.html#2241">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-dev">More information about the eLua-dev
mailing list</a><br>
</body></html>

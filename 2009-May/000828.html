<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [eLua-dev] New linux platform for eLua
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-dev/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20New%20linux%20platform%20for%20eLua&In-Reply-To=%3C200905201558.51370.bobby%40sharedrealm.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000827.html">
   <LINK REL="Next"  HREF="000807.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[eLua-dev] New linux platform for eLua</H1>
    <B>Robert G. Jakabosky</B> 
    <A HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20New%20linux%20platform%20for%20eLua&In-Reply-To=%3C200905201558.51370.bobby%40sharedrealm.com%3E"
       TITLE="[eLua-dev] New linux platform for eLua">bobby at sharedrealm.com
       </A><BR>
    <I>Thu May 21 00:58:51 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000827.html">[eLua-dev] New linux platform for eLua
</A></li>
        <LI>Next message: <A HREF="000807.html">[eLua-dev] GC Parameters &amp; Emergency Collection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#828">[ date ]</a>
              <a href="thread.html#828">[ thread ]</a>
              <a href="subject.html#828">[ subject ]</a>
              <a href="author.html#828">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wednesday 20, Bogdan Marinescu wrote:
&gt;<i> I also don't think this is possible, gcc built with gliobc depends on glibc
</I>&gt;<i> in a number of obscure ways (I'm sure the same holds for Newlib at least to
</I>&gt;<i> some extent). I tried using the precompiled ncurses library from Linux in
</I>&gt;<i> our sim executable to set up the terminal, and the linker blessed me with
</I>&gt;<i> so many errors that I gave up instantly. I'm sure things would've been
</I>&gt;<i> different if I tried to compile ncurses itself with i686-elf-gcc, but this
</I>&gt;<i> is already more complex than needed.
</I>
You could build a wrapper program that is built with the normal host gcc 
toolchain.  It would setup the terminal then run eLua in a child process that 
shares stdin/stdout/stderr with the wrapper process.  If you don't need to 
reset the terminal back to some normal settings on exit, then exec() could be 
used to replace the wrapper process with eLua.

Also here is a program that can convert ELF objects to Mach-O objects:
<A HREF="http://www.agner.org/optimize/objconv.zip">http://www.agner.org/optimize/objconv.zip</A>

The OSX syscalls would still need to be written, but atleast objconv might 
make the ELF eLua binary runnable.  As a test compile (with i686-elf-gcc) a 
simple program that only has a long loop in main().  If you can convert that 
elf binary to a runnable Mach-O binary, then it should work for eLua once the 
syscalls are written.

-- 
Robert G. Jakabosky

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000827.html">[eLua-dev] New linux platform for eLua
</A></li>
	<LI>Next message: <A HREF="000807.html">[eLua-dev] GC Parameters &amp; Emergency Collection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#828">[ date ]</a>
              <a href="thread.html#828">[ thread ]</a>
              <a href="subject.html#828">[ subject ]</a>
              <a href="author.html#828">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-dev">More information about the eLua-dev
mailing list</a><br>
</body></html>

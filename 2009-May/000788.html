<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [eLua-dev] Lua-RPC Coming
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-dev/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20Lua-RPC%20Coming&In-Reply-To=%3CEMEWEMEW2_DELIMl45BFs003d2f074394497daec248%2C%0A%09jbsnyder%40fanplastic.org%2C%20367003CF-E324-4C2E-BA57-F02%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000785.html">
   <LINK REL="Next"  HREF="000787.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[eLua-dev] Lua-RPC Coming</H1>
    <B>James Snyder</B> 
    <A HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20Lua-RPC%20Coming&In-Reply-To=%3CEMEWEMEW2_DELIMl45BFs003d2f074394497daec248%2C%0A%09jbsnyder%40fanplastic.org%2C%20367003CF-E324-4C2E-BA57-F02%3E"
       TITLE="[eLua-dev] Lua-RPC Coming">jbsnyder at fanplastic.org
       </A><BR>
    <I>Wed May  6 18:15:50 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000785.html">[eLua-dev] Lua-RPC Coming
</A></li>
        <LI>Next message: <A HREF="000787.html">[eLua-dev] Lua-RPC Coming
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#788">[ date ]</a>
              <a href="thread.html#788">[ thread ]</a>
              <a href="subject.html#788">[ subject ]</a>
              <a href="author.html#788">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On May 6, 2009, at 5:47 AM, John Hind wrote:

&gt;<i> I am stuck in the &#8220;inhumanly boring&#8221; at the moment too &#8211; why will no  
</I>&gt;<i> one ever pay you to do anything interesting?
</I>&gt;<i>
</I>&gt;<i> I still think there has to be something elegant to be done with  
</I>&gt;<i> serialising *closures* complete with their upvalues. So you send a  
</I>&gt;<i> closure from A to B and it has the values it needs from A as  
</I>&gt;<i> upvalues. That gets executed (parameterless) on B and can access and  
</I>&gt;<i> modify B&#8217;s environment. If a reply is needed, the A-&gt;B closure  
</I>&gt;<i> creates a new closure on B and dispatches it back to A for  
</I>&gt;<i> execution. The protocol could be that if calling a remote closure&#8217;s  
</I>&gt;<i> function returns a closure the run-time will return that closure to  
</I>&gt;<i> the sender.
</I>
Yeah, this would be quite a neat feature.  I haven't inspected how  
lua_dump works to understand why upvalues get lost, but something that  
may be helpful is pluto:
<A HREF="http://luaforge.net/projects/pluto/">http://luaforge.net/projects/pluto/</A>

I haven't looked at the source, but it claims the following features:
* Can persist any Lua function
* Can persist threads
* Works with any Lua chunkreader/chunkwriter
* Support for &quot;invariant&quot; permanent objects, of all datatypes
* Can invoke metafunctions for custom persistence of tables and userdata

So, perhaps even if this is too heavy weight to use the whole thing  
some portions might be useful to help with serializing upvalues or  
other state information.

Ah, so many possibilities, so little time to evaluate them all...

-jsnyder

&gt;<i>
</I>&gt;<i>
</I>&gt;<i> From: <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">elua-dev-bounces at lists.berlios.de</A> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">elua-dev-bounces at lists.berlios.de</A> 
</I>&gt;<i> ] On Behalf Of Bogdan Marinescu
</I>&gt;<i> Sent: 06 May 2009 09:20
</I>&gt;<i> To: eLua Users and Development List
</I>&gt;<i> Subject: Re: [eLua-dev] Lua-RPC Coming
</I>&gt;<i>
</I>&gt;<i> That sounds just abourt right. The main problem isn't sending the  
</I>&gt;<i> code I think, but rather serializing/deserializing the parameters/ 
</I>&gt;<i> results, which I believe is also most of the work from Lua-RPC. I  
</I>&gt;<i> don't think we need to handle &quot;tricky stuff&quot; like recursive tables  
</I>&gt;<i> and such.
</I>&gt;<i>
</I>&gt;<i> Other ideas that I find interesting:[JH]  .....
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Elua-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">Elua-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">https://lists.berlios.de/mailman/listinfo/elua-dev</A>
</I>
--
James Snyder
Biomedical Engineering
Northwestern University
<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">jbsnyder at fanplastic.org</A>
<A HREF="http://fanplastic.org/key.txt">http://fanplastic.org/key.txt</A>
ph: (847) 448-0386

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/elua-dev/attachments/20090506/05ce23fa/attachment.html">https://lists.berlios.de/pipermail/elua-dev/attachments/20090506/05ce23fa/attachment.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: PGP.sig
Type: application/pgp-signature
Size: 194 bytes
Desc: This is a digitally signed message part
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/elua-dev/attachments/20090506/05ce23fa/attachment.pgp">https://lists.berlios.de/pipermail/elua-dev/attachments/20090506/05ce23fa/attachment.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000785.html">[eLua-dev] Lua-RPC Coming
</A></li>
	<LI>Next message: <A HREF="000787.html">[eLua-dev] Lua-RPC Coming
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#788">[ date ]</a>
              <a href="thread.html#788">[ thread ]</a>
              <a href="subject.html#788">[ subject ]</a>
              <a href="author.html#788">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-dev">More information about the eLua-dev
mailing list</a><br>
</body></html>

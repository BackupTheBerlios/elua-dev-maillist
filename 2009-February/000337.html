<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [eLua-dev] RTOS and ISRs (was eLua and RTOS integration)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-dev/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20RTOS%20and%20ISRs%20%28was%20eLua%20and%20RTOS%20integration%29&In-Reply-To=%3C81fbe47d0902031205h641bb7a1yde9fd7603e7b9d0e%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000336.html">
   <LINK REL="Next"  HREF="000338.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[eLua-dev] RTOS and ISRs (was eLua and RTOS integration)</H1>
    <B>Bogdan Marinescu</B> 
    <A HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20RTOS%20and%20ISRs%20%28was%20eLua%20and%20RTOS%20integration%29&In-Reply-To=%3C81fbe47d0902031205h641bb7a1yde9fd7603e7b9d0e%40mail.gmail.com%3E"
       TITLE="[eLua-dev] RTOS and ISRs (was eLua and RTOS integration)">bogdan.marinescu at gmail.com
       </A><BR>
    <I>Tue Feb  3 21:05:26 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000336.html">[eLua-dev] RTOS and ISRs (was  eLua and RTOS integration)
</A></li>
        <LI>Next message: <A HREF="000338.html">[eLua-dev] RTOS and ISRs (was eLua and RTOS integration)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#337">[ date ]</a>
              <a href="thread.html#337">[ thread ]</a>
              <a href="subject.html#337">[ subject ]</a>
              <a href="author.html#337">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> That said, between coroutines and interrupts, one could probably get
</I>&gt;<i> functionality that covers many of these advantages without wrapping
</I>&gt;<i> everything in an RTOS.
</I>&gt;<i>
</I>&gt;<i> Regarding ISRs and eLua:  Has anyone given any thought to how Lua ISRs
</I>&gt;<i> could be done?  With Cortex-M3's NVIC it should be pretty easy to
</I>&gt;<i> reconfigure interrupts to call Lua functions,
</I>&gt;<i>
</I>
Not really. It's not about the hardware, Lua's VM isn't really meant to be
interrupted. Fortunately there is an easy way to do this: you'd just use
Lua's hook support (similar to debug.sethook), maybe slightly modified to
take interrupts into account (although I'm not sure yet that modifications
are really required). lua.c already does something like this to handle
signals (for CTRL+C). There might be better ways to do this, but I can't
think of any.

Best,
Bogdan

-jsnyder
&gt;<i>
</I>
&gt;<i> On Feb 3, 2009, at 12:41 PM, Dean Hall wrote:
</I>&gt;<i>
</I>&gt;<i> I've used both PyMite (a small Python interpreter) and AvrX RTOS on an
</I>&gt;<i> AVR; which might be comparable to running eLua with an RTOS. My belief
</I>&gt;<i> is that the two software systems solve two very different problems.
</I>&gt;<i> If you *need* an RTOS, you probably shouldn't be running an
</I>&gt;<i> interpreted language.  Conversely, if you are programming in a high
</I>&gt;<i> level language, you probably don't care as much about what's going on
</I>&gt;<i> at the silicon level as long as it does what you want it to.  Sure
</I>&gt;<i> there are exceptions, but I'm talking generalities here.
</I>&gt;<i>
</I>&gt;<i> I believe it would be easier to use eLua as the application and write
</I>&gt;<i> any time-critical code in C in an interrupt service routine than it
</I>&gt;<i> would be to try to integrate with an RTOS.  In embedded systems
</I>&gt;<i> (especially real-time systems) simplicity is everything.
</I>&gt;<i>
</I>&gt;<i> !!Dean
</I>&gt;<i>
</I>&gt;<i> On Feb 3, 2009, at 12:18 , Bogdan Marinescu wrote:
</I>&gt;<i>
</I>&gt;<i> Integrating eLua with a RTOS is not on my list of &quot;TODO for eLua&quot;,
</I>&gt;<i>
</I>&gt;<i> so I'm waiting for the oppions of other people :)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Best,
</I>&gt;<i>
</I>&gt;<i> Bogdan
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Tue, Feb 3, 2009 at 8:16 PM, Dado Sutter &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">dadosutter at gmail.com</A>&gt;
</I>&gt;<i>
</I>&gt;<i> wrote:
</I>&gt;<i>
</I>&gt;<i> Hello Guys,,
</I>&gt;<i>
</I>&gt;<i>  On the Lua Programming Gems, there are at least two articles
</I>&gt;<i>
</I>&gt;<i> discussing nice multithreading models for Lua.
</I>&gt;<i>
</I>&gt;<i>  It will be nice to read about them here too.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Best
</I>&gt;<i>
</I>&gt;<i> Dado
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Tue, Feb 3, 2009 at 16:05, Alex Babkin &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">ababkin at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> Hi all
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This may be a silly and not thought out question, but i'll throw it
</I>&gt;<i>
</I>&gt;<i> out there anyway: Has anyone tried to integrate the eLua codebase
</I>&gt;<i>
</I>&gt;<i> with something like FreeRTOS? I.e have eLua running as a low
</I>&gt;<i>
</I>&gt;<i> priority process while having some other higher-priority time
</I>&gt;<i>
</I>&gt;<i> critical processes doing their time-critical stuff and chugging
</I>&gt;<i>
</I>&gt;<i> along-side with eLua.
</I>&gt;<i>
</I>&gt;<i> I'd imagine there is a lot of merit for doing this kind of thing for
</I>&gt;<i>
</I>&gt;<i> many projects.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Alex
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i>
</I>&gt;<i> Elua-dev mailing list
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">Elua-dev at lists.berlios.de</A>
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">https://lists.berlios.de/mailman/listinfo/elua-dev</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i>
</I>&gt;<i> Elua-dev mailing list
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">Elua-dev at lists.berlios.de</A>
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">https://lists.berlios.de/mailman/listinfo/elua-dev</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i>
</I>&gt;<i> Elua-dev mailing list
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">Elua-dev at lists.berlios.de</A>
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">https://lists.berlios.de/mailman/listinfo/elua-dev</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Elua-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">Elua-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">https://lists.berlios.de/mailman/listinfo/elua-dev</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> James Snyder
</I>&gt;<i> Biomedical Engineering
</I>&gt;<i> Northwestern University
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">jbsnyder at fanplastic.org</A>
</I>&gt;<i> <A HREF="http://fanplastic.org/key.txt">http://fanplastic.org/key.txt</A>
</I>&gt;<i> ph: (847) 644-2322
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Elua-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">Elua-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">https://lists.berlios.de/mailman/listinfo/elua-dev</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/elua-dev/attachments/20090203/6074a54c/attachment.html">https://lists.berlios.de/pipermail/elua-dev/attachments/20090203/6074a54c/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000336.html">[eLua-dev] RTOS and ISRs (was  eLua and RTOS integration)
</A></li>
	<LI>Next message: <A HREF="000338.html">[eLua-dev] RTOS and ISRs (was eLua and RTOS integration)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#337">[ date ]</a>
              <a href="thread.html#337">[ thread ]</a>
              <a href="subject.html#337">[ subject ]</a>
              <a href="author.html#337">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-dev">More information about the eLua-dev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [eLua-dev] Elua with a web server (wrote in true 'C') inside.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-dev/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20Elua%20with%20a%20web%20server%20%28wrote%20in%20true%20%27C%27%29%20inside.&In-Reply-To=%3CAANLkTi%3DcitBLQZri%3DGGei81Fi7L8ptCwm3MtS%3DS0Xicr%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002106.html">
   <LINK REL="Next"  HREF="002108.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[eLua-dev] Elua with a web server (wrote in true 'C') inside.</H1>
    <B>Dado Sutter</B> 
    <A HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20Elua%20with%20a%20web%20server%20%28wrote%20in%20true%20%27C%27%29%20inside.&In-Reply-To=%3CAANLkTi%3DcitBLQZri%3DGGei81Fi7L8ptCwm3MtS%3DS0Xicr%40mail.gmail.com%3E"
       TITLE="[eLua-dev] Elua with a web server (wrote in true 'C') inside.">dadosutter at gmail.com
       </A><BR>
    <I>Wed Mar  2 23:18:07 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002106.html">[eLua-dev] Elua with a web server (wrote in true 'C')  inside.
</A></li>
        <LI>Next message: <A HREF="002108.html">[eLua-dev] Elua with a web server (wrote in true 'C') inside.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2107">[ date ]</a>
              <a href="thread.html#2107">[ thread ]</a>
              <a href="subject.html#2107">[ subject ]</a>
              <a href="author.html#2107">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Wed, Mar 2, 2011 at 18:32, Tim Michals &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">tcmichals at yahoo.com</A>&gt; wrote:

&gt;<i> I might be way off base with this answer...
</I>&gt;<i>
</I>&gt;<i> So, the goal is to have PHP/ASP, now eLua tags, in the HTML pages.  So the
</I>&gt;<i> uIP stack would listen for the http commands and do some processing on the
</I>&gt;<i> HTML until a eLua tag is found, then send it over to eLua for compile and
</I>&gt;<i> processing.
</I>&gt;<i>
</I>
Yes, I think this is what Nuccio has in mind. Pretty much what COSMO (
<A HREF="http://cosmo.luaforge.net/">http://cosmo.luaforge.net/</A>) and many other template engines do for Lua.


&gt;<i> The eLua tag is really a bunch of eLua code that gets compiled then
</I>&gt;<i> executed.
</I>&gt;<i>
</I>
Yes, with some sort of sandbox for security.


&gt;<i> A new/clone &quot;state&quot; from the &quot;eLua state&quot;  has to be created because once
</I>&gt;<i> the socket is over, the state is then deleted. Or you can use the same
</I>&gt;<i> state
</I>&gt;<i> and use it to cache the code, and just execute the instructions.  Since the
</I>&gt;<i> html pages are static on the web server/ micro-controller.
</I>&gt;<i>
</I>
Exactly. Depending on the application (ie: a web UI for an instrument), it
may be better to keep the state alive.


&gt;<i> The main issue to me is memory, having a state per socket would use a lot
</I>&gt;<i> of
</I>&gt;<i> memory.  Caching would make sense, but that is a lot of work.  In simple
</I>&gt;<i> terms, move all of the eLua script out from the HTML and just have simple
</I>&gt;<i> asp tags that map to eLua/Lua functions.  Just upload a new Lua script/web
</I>&gt;<i> pages then you have a way to extend the interface.
</I>&gt;<i>
</I>&gt;<i> Another Idea, use Lua to do XMLPRC/Ajax  processing, i.e. post XML pages
</I>&gt;<i> and
</I>&gt;<i> do all of the parsing in eLua, return the data, tables, etc, so on the web
</I>&gt;<i> browser do all your work in Java script, i.e. tables, processing etc.  Thus
</I>&gt;<i> using XML to get data, java script for presentation.
</I>&gt;<i>
</I>
And yes, I think the main issue is memory. Even with newer and not that more
expensive chips, it still seems too early to dream on embedding some nice
and powerful Lua libs for this area.
Having a C-based server, in opposition to our http server example in
Lua&lt;<A HREF="http://wiki.eluaproject.net/lhttpd">http://wiki.eluaproject.net/lhttpd</A>&gt;will indeed be very nice,
specially if it can extract some better
performance from the uIP stack.

Best
Dado





&gt;<i> --
</I>&gt;<i> View this message in context:
</I>&gt;<i> <A HREF="http://elua-development.2368040.n2.nabble.com/Elua-with-a-web-server-wrote-in-true-C-inside-tp6082080p6082701.html">http://elua-development.2368040.n2.nabble.com/Elua-with-a-web-server-wrote-in-true-C-inside-tp6082080p6082701.html</A>
</I>&gt;<i> Sent from the eLua Development mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> eLua-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">eLua-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">https://lists.berlios.de/mailman/listinfo/elua-dev</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/elua-dev/attachments/20110302/bf1c8096/attachment.html">https://lists.berlios.de/pipermail/elua-dev/attachments/20110302/bf1c8096/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002106.html">[eLua-dev] Elua with a web server (wrote in true 'C')  inside.
</A></li>
	<LI>Next message: <A HREF="002108.html">[eLua-dev] Elua with a web server (wrote in true 'C') inside.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2107">[ date ]</a>
              <a href="thread.html#2107">[ thread ]</a>
              <a href="subject.html#2107">[ subject ]</a>
              <a href="author.html#2107">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-dev">More information about the eLua-dev
mailing list</a><br>
</body></html>

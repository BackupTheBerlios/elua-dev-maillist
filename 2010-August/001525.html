<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [eLua-dev] Renaud's AVR32 EVK1100 and SPI patch
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-dev/2010-August/index.html" >
   <LINK REL="made" HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20Renaud%27s%20AVR32%20EVK1100%20and%20SPI%20patch&In-Reply-To=%3CAANLkTikreD_UMNYL8QrW2c_8_2KpT02ezTOMWTMJe5Bq%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001524.html">
   <LINK REL="Next"  HREF="001526.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[eLua-dev] Renaud's AVR32 EVK1100 and SPI patch</H1>
    <B>Martin Guy</B> 
    <A HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20Renaud%27s%20AVR32%20EVK1100%20and%20SPI%20patch&In-Reply-To=%3CAANLkTikreD_UMNYL8QrW2c_8_2KpT02ezTOMWTMJe5Bq%40mail.gmail.com%3E"
       TITLE="[eLua-dev] Renaud's AVR32 EVK1100 and SPI patch">martinwguy at gmail.com
       </A><BR>
    <I>Wed Aug  4 11:09:54 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001524.html">[eLua-dev] Renaud's AVR32 EVK1100 and SPI patch
</A></li>
        <LI>Next message: <A HREF="001526.html">[eLua-dev] Renaud's AVR32 EVK1100 and SPI patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1525">[ date ]</a>
              <a href="thread.html#1525">[ thread ]</a>
              <a href="subject.html#1525">[ subject ]</a>
              <a href="author.html#1525">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> On Tue, Aug 3, 2010 at 11:39 PM, Bogdan Marinescu
</I>&gt;<i> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">bogdan.marinescu at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; On Sun, Aug 1, 2010 at 12:14 PM, Martin Guy &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">martinwguy at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; Hi Renaud
</I>&gt;<i> &gt; &gt;   I've updated your patch to svn head and we've tested it on an EVK1100.
</I>&gt;<i> &gt; Are you sure the patch is made for rev 765? This is what I get:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">bogdanm at bogdanm-desktop</A>:~/work/elua/trunk_765$ patch &lt;
</I>&gt;<i> &gt; /home/bogdanm/dl/evk1101_and_spi_for_svn765.patch
</I>&gt;<i> &gt; patching file led.lua
</I>&gt;<i> &gt; Hunk #1 FAILED at 17.
</I>&gt;<i> &gt; 1 out of 1 hunk FAILED -- saving rejects to file led.lua.rej
</I>&gt;<i> &gt; ...
</I>
Yes. Before I posted, I did a fresh svn co, applied the patch,
configured and built to be sure.
However, I used patch -p0; I am surprised that plain &quot;patch&quot; works for
you; for me that fails to find the target files (on Linux with FSF
patch 2.5.9)

It also works fine today with svn head r767. Is it possible that your
copy of trunk has been modified (&quot;svn status&quot; and/or &quot;svn revert -R
.&quot;) or that the patch got mangled in the mailer (space/tab issues?)

If the patch file got corrupted, you will find a clean copy to
download from here
<A HREF="http://martinwguy.co.uk/martin/evk1101_and_spi_for_svn765.patch">http://martinwguy.co.uk/martin/evk1101_and_spi_for_svn765.patch</A>
md5sum is:
705ce0eb4cd4be09f5dca8866e25ad9f  evk1101_and_spi_for_svn765.patch
and length is 42100 bytes.

Another thought is LF / CRLF issues - I see that some of the sources
have plain linefeeds and others have MSDOS-style CR-LF line
terminators, but the Unix environment seems not to complain about
that.

On 8/4/10, Renaud &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">renaud at myboyfriendisageek.com</A>&gt; wrote:
&gt;<i> My initial patch was made with Tortoise. Does it succeed ? If yes, maybe
</I>&gt;<i> Martin did something wrong ?
</I>
It needs some work to apply it to svn head. In particular a lot of
magic incantations changed to use comp[ 'foo' ] instead.
If I remember correctly, the original patch applies to r740 cleanly,
but doesn't compile due to an undefined preprocessor constant.

     M

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001524.html">[eLua-dev] Renaud's AVR32 EVK1100 and SPI patch
</A></li>
	<LI>Next message: <A HREF="001526.html">[eLua-dev] Renaud's AVR32 EVK1100 and SPI patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1525">[ date ]</a>
              <a href="thread.html#1525">[ thread ]</a>
              <a href="subject.html#1525">[ subject ]</a>
              <a href="author.html#1525">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-dev">More information about the eLua-dev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [eLua-dev] eLua heading into a product
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-dev/2012-January/index.html" >
   <LINK REL="made" HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20eLua%20heading%20into%20a%20product&In-Reply-To=%3CCAL4-wQqPfGQgqn4xnWJvgVxHsNNs%3DjbXUwd-qO0Widcx9W%3DfZA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003267.html">
   <LINK REL="Next"  HREF="003269.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[eLua-dev] eLua heading into a product</H1>
    <B>Martin Guy</B> 
    <A HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20eLua%20heading%20into%20a%20product&In-Reply-To=%3CCAL4-wQqPfGQgqn4xnWJvgVxHsNNs%3DjbXUwd-qO0Widcx9W%3DfZA%40mail.gmail.com%3E"
       TITLE="[eLua-dev] eLua heading into a product">martinwguy at gmail.com
       </A><BR>
    <I>Wed Jan 25 13:27:10 CET 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="003267.html">[eLua-dev] eLua heading into a product
</A></li>
        <LI>Next message: <A HREF="003269.html">[eLua-dev] eLua heading into a product
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3268">[ date ]</a>
              <a href="thread.html#3268">[ thread ]</a>
              <a href="subject.html#3268">[ subject ]</a>
              <a href="author.html#3268">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Matt. Great story and a tribute to how easy eLua makes it to
implement this kind of thing.
We shipped the first of our Mizar32 products yesterday, and it is
valuable for us to know the kind of uses that people might put this
kind of solution to, so many thanks for sharing.

&gt;<i> It broke my heart when I couldn't fit it all into 256k.
</I>
Our original design had 128KB of flash with 120K available for eLua
and, like you, we found it was a bit tight for full eLua. However,
during the months in which I was trying to fit the best of eLua into
120K I did a lot of size optimizations. Now we decided also to make
256K and 512K models which alleviate this pressure and let us provide
eLua proper with them. However, it seemed a shame to waste all that
hackery so I used those patches to produce the 128K model's firmware.
Some are too ugly to put in mainline eLua but they are all visible on
the Mizar32 branch of the eLua repository; that may help to give you
the extra space you need.

&gt;<i> Some of the Freescale peripherals do not play well with the eLua model.  I2C, in particular.
</I>
We had the same problem in the AVR32 hardware, which needs complete
I2C messages and cannot work at the start-stop level. There was a
proposal to add a higher-level I2C interface to get round this but it
turned out that some existing eLua code relied on being able to regain
control in the middle of a sending a message to be able to achieve
certain optimizations, so in the end we implemented it by bit-banging
two GPIO pins. You could probably lift that implementation from
src/platform/avr32/i2c.c

    M

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003267.html">[eLua-dev] eLua heading into a product
</A></li>
	<LI>Next message: <A HREF="003269.html">[eLua-dev] eLua heading into a product
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3268">[ date ]</a>
              <a href="thread.html#3268">[ thread ]</a>
              <a href="subject.html#3268">[ subject ]</a>
              <a href="author.html#3268">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-dev">More information about the eLua-dev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [eLua-dev] LM3S8962 Timer Input Capture Mode
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-dev/2012-March/index.html" >
   <LINK REL="made" HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20LM3S8962%20Timer%20Input%20Capture%20Mode&In-Reply-To=%3CCAEm%2BDEtXJmVEqF5VpXR8pruqjMeDXkMBpcxd%2BEF%2BAr5Q8z4tuQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003409.html">
   <LINK REL="Next"  HREF="003419.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[eLua-dev] LM3S8962 Timer Input Capture Mode</H1>
    <B>Mauricio Henrique Bomfim</B> 
    <A HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20LM3S8962%20Timer%20Input%20Capture%20Mode&In-Reply-To=%3CCAEm%2BDEtXJmVEqF5VpXR8pruqjMeDXkMBpcxd%2BEF%2BAr5Q8z4tuQ%40mail.gmail.com%3E"
       TITLE="[eLua-dev] LM3S8962 Timer Input Capture Mode">mauriciobomfim at gmail.com
       </A><BR>
    <I>Tue Mar 27 07:01:18 CEST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="003409.html">[eLua-dev] LM3S8962 Timer Input Capture Mode
</A></li>
        <LI>Next message: <A HREF="003419.html">[eLua-dev] The Go @ IDE &amp; STM32F4DISCOVERY
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3413">[ date ]</a>
              <a href="thread.html#3413">[ thread ]</a>
              <a href="subject.html#3413">[ subject ]</a>
              <a href="author.html#3413">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Mar 26, 2012 at 7:15 PM, jrambo316 &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">jrambo316 at yahoo.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Mauricio Henrique Bomfim wrote
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Bogdan has implemented a very customized timer capture module for
</I>&gt;&gt;<i> str9. We use it at PUC-Rio to implement a pulse counter from a truck
</I>&gt;&gt;<i> odometer. Below, follows how we use its API:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -- setup the timer id for timer capture
</I>&gt;&gt;<i> str9.cap.setup( TIMER_ID, str9.cap.NEGEDGE )
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -- just for compatibility with eLua interruption API
</I>&gt;&gt;<i> cpu.set_int_handler( cpu.INT_TMR_CAPTURE, function() end )
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -- enable the timer capture interruption
</I>&gt;&gt;<i> cpu.sei( cpu.INT_TMR_CAPTURE, TIMER_ID )
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -- gets the current counting and restart the counter to zero
</I>&gt;&gt;<i> str9.cap.getcount( TIMER_ID )
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I hope it helps.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> []s
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Mauricio
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thanks,
</I>&gt;&gt;&gt;<i> Jim
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;<i> View this message in context:
</I>&gt;&gt;&gt;<i> <A HREF="http://elua-development.2368040.n2.nabble.com/LM3S8962-Timer-Input-Capture-Mode-tp7399429p7399429.html">http://elua-development.2368040.n2.nabble.com/LM3S8962-Timer-Input-Capture-Mode-tp7399429p7399429.html</A>
</I>&gt;&gt;&gt;<i> Sent from the eLua Development mailing list archive at Nabble.com.
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> eLua-dev mailing list
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">eLua-dev at .berlios</A>
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">https://lists.berlios.de/mailman/listinfo/elua-dev</A>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> eLua-dev mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">eLua-dev at .berlios</A>
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">https://lists.berlios.de/mailman/listinfo/elua-dev</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Perfect! &#160;Do you have a link where I can look more closely at that
</I>&gt;<i> implementation on github? &#160;That is the same purpose that I need the timer
</I>&gt;<i> capture.
</I>
It isn't on github because the customer business logic isn't open
source. But we can share everything that isn't customer business
logic.

All files that implements the timer capture for str9 (which stay at
src/platform/str9 directory) are available here
<A HREF="http://dl.dropbox.com/u/1413610/elua_cap.zip">http://dl.dropbox.com/u/1413610/elua_cap.zip</A> .

Notice that it was added at april 2011 and it is not merged with
current eLua master branch.

Tell us if it helps you.

[]s

Mauricio

&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Jim
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://elua-development.2368040.n2.nabble.com/LM3S8962-Timer-Input-Capture-Mode-tp7399429p7407691.html">http://elua-development.2368040.n2.nabble.com/LM3S8962-Timer-Input-Capture-Mode-tp7399429p7407691.html</A>
</I>&gt;<i> Sent from the eLua Development mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> eLua-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">eLua-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">https://lists.berlios.de/mailman/listinfo/elua-dev</A>
</I></PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003409.html">[eLua-dev] LM3S8962 Timer Input Capture Mode
</A></li>
	<LI>Next message: <A HREF="003419.html">[eLua-dev] The Go @ IDE &amp; STM32F4DISCOVERY
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3413">[ date ]</a>
              <a href="thread.html#3413">[ thread ]</a>
              <a href="subject.html#3413">[ subject ]</a>
              <a href="author.html#3413">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-dev">More information about the eLua-dev
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [eLua-dev] BUILD_RPC always defined
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-dev/2010-December/index.html" >
   <LINK REL="made" HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20BUILD_RPC%20always%20defined&In-Reply-To=%3CAANLkTinsyU10uORPm8Jd_ZQb0nqyVD6mrG3faSnbEnHM%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001767.html">
   <LINK REL="Next"  HREF="001771.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[eLua-dev] BUILD_RPC always defined</H1>
    <B>James Snyder</B> 
    <A HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20BUILD_RPC%20always%20defined&In-Reply-To=%3CAANLkTinsyU10uORPm8Jd_ZQb0nqyVD6mrG3faSnbEnHM%40mail.gmail.com%3E"
       TITLE="[eLua-dev] BUILD_RPC always defined">jbsnyder at fanplastic.org
       </A><BR>
    <I>Thu Dec  2 16:26:41 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001767.html">[eLua-dev] BUILD_RPC always defined
</A></li>
        <LI>Next message: <A HREF="001771.html">[eLua-dev] Iterating the eLua Globals table/mbed port
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1770">[ date ]</a>
              <a href="thread.html#1770">[ thread ]</a>
              <a href="subject.html#1770">[ subject ]</a>
              <a href="author.html#1770">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I see my grand plan to make sure every build contains LuaRPC has been foiled ;-)

I'll commit a fix for this later today.  BUILD_RPC shouldn't be
necessary in all cases.  I think what should have been there was if
ELUA_BOOT_RPC was defined and BUILD_RPC was not, BUILD_RPC would be
turned on automatically.  That said, I will do some investigation
before simply applying that correction.  If you can't wait for that
feel free to experiment with removing that block for now if you
definitely don't want LuaRPC.

Thanks for the heads-up :-)

On Thu, Dec 2, 2010 at 9:44 AM, Bogdan Marinescu
&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">bogdan.marinescu at gmail.com</A>&gt; wrote:
&gt;<i> On Thu, Dec 2, 2010 at 11:41 AM, Martin Guy &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">martinwguy at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> Bogdan,
</I>&gt;&gt;<i> &#160;In all the platform_conf.h files there is the following paragraph:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> #if defined( BUILD_RPC ) || defined( ELUA_BOOT_RPC )
</I>&gt;&gt;<i> #define RPCLINE _ROM( AUXLIB_RPC, luaopen_rpc, rpc_map )
</I>&gt;&gt;<i> #else // #if defined( BUILD_RPC ) || defined( ELUA_BOOT_RPC )
</I>&gt;&gt;<i> #define RPCLINE
</I>&gt;&gt;<i> #if !defined( BUILD_RPC )
</I>&gt;&gt;<i> #define BUILD_RPC
</I>&gt;&gt;<i> #endif
</I>&gt;&gt;<i> #endif
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> which means that. if BUILD_RPC is not defined, it get defined anyway
</I>&gt;&gt;<i> in the #else clause.
</I>&gt;&gt;<i> It doesn't provoke any errors or code bloat for avr32 (since the
</I>&gt;&gt;<i> linker garbage-collects the RPC functions that are compiled but not
</I>&gt;&gt;<i> referenced). I only noticed it because, having disabled dump/undump,
</I>&gt;&gt;<i> the RPC module gave warnings about undump not being declared.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is there any reason to always define BUILD_RPC, even when it is not required?
</I>&gt;<i>
</I>&gt;<i> Thanks for reminding me about this, I saw it too at some point but
</I>&gt;<i> forgot about it. James, the ball is in your court :)
</I>&gt;<i>
</I>&gt;<i> Best,
</I>&gt;<i> Bogdan
</I>&gt;<i> _______________________________________________
</I>&gt;<i> eLua-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">eLua-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">https://lists.berlios.de/mailman/listinfo/elua-dev</A>
</I>&gt;<i>
</I>


-- 
James Snyder
Biomedical Engineering
Northwestern University
<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">jbsnyder at gmail.com</A>
PGP: <A HREF="http://fanplastic.org/key.txt">http://fanplastic.org/key.txt</A>
Phone: (847) 448-0386

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001767.html">[eLua-dev] BUILD_RPC always defined
</A></li>
	<LI>Next message: <A HREF="001771.html">[eLua-dev] Iterating the eLua Globals table/mbed port
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1770">[ date ]</a>
              <a href="thread.html#1770">[ thread ]</a>
              <a href="subject.html#1770">[ subject ]</a>
              <a href="author.html#1770">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-dev">More information about the eLua-dev
mailing list</a><br>
</body></html>

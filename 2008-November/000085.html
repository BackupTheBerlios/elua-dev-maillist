<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [eLua-dev] Question about where to put lua driver modules.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-dev/2008-November/index.html" >
   <LINK REL="made" HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20Question%20about%20where%20to%20put%20lua%20driver%20modules.&In-Reply-To=%3C36dc677c0811140557v4097e607occ273668508996f0%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000083.html">
   <LINK REL="Next"  HREF="000086.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[eLua-dev] Question about where to put lua driver modules.</H1>
    <B>Mike Panetta</B> 
    <A HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20Question%20about%20where%20to%20put%20lua%20driver%20modules.&In-Reply-To=%3C36dc677c0811140557v4097e607occ273668508996f0%40mail.gmail.com%3E"
       TITLE="[eLua-dev] Question about where to put lua driver modules.">panetta.mike at gmail.com
       </A><BR>
    <I>Fri Nov 14 14:57:23 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000083.html">[eLua-dev] MOD711 flashing errors
</A></li>
        <LI>Next message: <A HREF="000086.html">[eLua-dev] Question about where to put lua driver modules.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#85">[ date ]</a>
              <a href="thread.html#85">[ thread ]</a>
              <a href="subject.html#85">[ subject ]</a>
              <a href="author.html#85">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am going to be adding I2C support to my STM3210 port this weekend so I can
start playing around with a smart battery charger/power supply I designed
and I need to know where a good place to put the lua code that drives the
chips would be.  The code will be generic (obviously) and should work on any
platform since its in lua.  Do we currently have any place for files like
this?  Should chip drivers be implemented in lua or C?  Which would be more
RAM efficient? I would imagine C would be more efficient...

Also, do we have a platform interface in mind for I2C yet?

Another question... What is the general idea behind how eLua is to be used?
I ask this because it will determine if most of the low level code (such as
peripheral and chip drivers, and possibly some algorithms) will be written
in C and just the business logic will be written in lua, or if some of the
common drivers will be written in lua wherever possible. I don't think that
this would even be a question on a larger memory system, as RAM would be
plenty, but on a 64K system, ram is tight, so we should do whatever we can
to optimise for RAM usage IMO.

My main reason for asking is, should I even write the chip drivers in lua,
or should I do them in C?  The LTC3556 (PMIC) driver will be very small, as
it is a write only device and only has 2 registers.  The bq27350 (Fuel
Gauge) driver could be quite large as it is a more complex chip with many
registers and access modes, so more then likely it should be done in C
anyway...

Anyway, I hope my questions make sense!

Thanks,
Mike
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/elua-dev/attachments/20081114/143c42b0/attachment.html">https://lists.berlios.de/pipermail/elua-dev/attachments/20081114/143c42b0/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000083.html">[eLua-dev] MOD711 flashing errors
</A></li>
	<LI>Next message: <A HREF="000086.html">[eLua-dev] Question about where to put lua driver modules.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#85">[ date ]</a>
              <a href="thread.html#85">[ thread ]</a>
              <a href="subject.html#85">[ subject ]</a>
              <a href="author.html#85">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-dev">More information about the eLua-dev
mailing list</a><br>
</body></html>

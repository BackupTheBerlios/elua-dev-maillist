<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [eLua-dev] Simple eLua flash file system
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-dev/2009-April/index.html" >
   <LINK REL="made" HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20Simple%20eLua%20flash%20file%20system&In-Reply-To=%3C49D63D2F.7050900%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000740.html">
   <LINK REL="Next"  HREF="000746.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[eLua-dev] Simple eLua flash file system</H1>
    <B>Mike Thompson</B> 
    <A HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20Simple%20eLua%20flash%20file%20system&In-Reply-To=%3C49D63D2F.7050900%40gmail.com%3E"
       TITLE="[eLua-dev] Simple eLua flash file system">mpthompson at gmail.com
       </A><BR>
    <I>Fri Apr  3 18:45:35 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000740.html">[eLua-dev] Simple eLua flash file system
</A></li>
        <LI>Next message: <A HREF="000746.html">[eLua-dev] Simple eLua flash file system
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#745">[ date ]</a>
              <a href="thread.html#745">[ thread ]</a>
              <a href="subject.html#745">[ subject ]</a>
              <a href="author.html#745">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The FatFs file system integrated very easily and thanks to the work of 
Jesus Alvarez it just works.  It's a very short term solution for me so 
I can get other pieces of the system working.  However, you are correct 
that it isn't suitable to my purposes over the long term

Another file system I've been looking at is YAFFS:

<A HREF="http://www.yaffs.net/">http://www.yaffs.net/</A>

While primarily intended to be Linux filesystem over raw NAND or NOR 
flash devices, there is a variant called YAFFS Direct intended for small 
embedded systems such as eLua.  The good thing is that wear leveling is 
built into the file system and SRAM footprint doesn't look too bad.  I 
don't know if it is good for 50K to 100K file systems, but I'll be 
looking further into this.  YAFFS is dual licensed under both GPL and 
there is a non-GPL commercial license.

Mike Thompson


Bogdan Marinescu wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> We will have such a FS at some point (I have a proof of concept ready), 
</I>&gt;<i> but I can't tell you why, as right now I'm so busy that I don't even get 
</I>&gt;<i> to work on the 0.6 docs anymore (hope this will change soon).
</I>&gt;<i> I do not recommend using FAT on Flash directly. You might kill your 
</I>&gt;<i> Flash soon. FAT was not designed to work directly with a medium such as 
</I>&gt;<i> Flash that generally needs a wear leveling algorithm for a nice, long 
</I>&gt;<i> life :)
</I>&gt;<i> 
</I>&gt;<i> Best,
</I>&gt;<i> Bogdan
</I>&gt;<i> 
</I>&gt;<i> On Fri, Apr 3, 2009 at 12:52 AM, mpthompson &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">mpthompson at gmail.com</A> 
</I>&gt;<i> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">mpthompson at gmail.com</A>&gt;&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     Hi everyone,
</I>&gt;<i> 
</I>&gt;<i>     In my working with eLua on the AT91SAM7S I would like to use the
</I>&gt;<i>     unused portion of flash on the chip (about 50K to 100K) as a simple
</I>&gt;<i>     read/write file system accessible via the standard libc file system
</I>&gt;<i>     calls open(), close(), read(), write(), seek(), etc...  At this
</I>&gt;<i>     point I am looking to use FatFs as I already have it working on an
</I>&gt;<i>     sd/mmc card.  Making the changes to to instead use the on-chip flash
</I>&gt;<i>     for storing files shouldn't be too difficult.
</I>&gt;<i> 
</I>&gt;<i>     However, I am wondering if someone knows of an alternative file
</I>&gt;<i>     system I might consider?  FAT seems like overkill for such a small
</I>&gt;<i>     need and file system compatibility with other devices is a non-issue
</I>&gt;<i>     in this scenario as the flash is non-removable.
</I>&gt;<i> 
</I>&gt;<i>     Thanks,
</I>&gt;<i> 
</I>&gt;<i>     Mike Thompson
</I>&gt;<i>     --
</I>&gt;<i>     View this message in context:
</I>&gt;<i>     <A HREF="http://n2.nabble.com/Simple-eLua-flash-file-system-tp2577775p2577775.html">http://n2.nabble.com/Simple-eLua-flash-file-system-tp2577775p2577775.html</A>
</I>&gt;<i>     Sent from the eLua Development mailing list archive at Nabble.com.
</I>&gt;<i> 
</I>&gt;<i>     _______________________________________________
</I>&gt;<i>     Elua-dev mailing list
</I>&gt;<i>     <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">Elua-dev at lists.berlios.de</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">Elua-dev at lists.berlios.de</A>&gt;
</I>&gt;<i>     <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">https://lists.berlios.de/mailman/listinfo/elua-dev</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Elua-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">Elua-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">https://lists.berlios.de/mailman/listinfo/elua-dev</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000740.html">[eLua-dev] Simple eLua flash file system
</A></li>
	<LI>Next message: <A HREF="000746.html">[eLua-dev] Simple eLua flash file system
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#745">[ date ]</a>
              <a href="thread.html#745">[ thread ]</a>
              <a href="subject.html#745">[ subject ]</a>
              <a href="author.html#745">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-dev">More information about the eLua-dev
mailing list</a><br>
</body></html>

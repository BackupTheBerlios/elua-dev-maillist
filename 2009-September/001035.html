<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [eLua-dev] USB - HID &amp; MSD
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-dev/2009-September/index.html" >
   <LINK REL="made" HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20USB%20-%20HID%20%26%20MSD&In-Reply-To=%3C004101ca3dee%24d27a4660%24776ed320%24%40hind%40zen.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001043.html">
   <LINK REL="Next"  HREF="001036.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[eLua-dev] USB - HID &amp; MSD</H1>
    <B>John Hind</B> 
    <A HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20USB%20-%20HID%20%26%20MSD&In-Reply-To=%3C004101ca3dee%24d27a4660%24776ed320%24%40hind%40zen.co.uk%3E"
       TITLE="[eLua-dev] USB - HID &amp; MSD">john.hind at zen.co.uk
       </A><BR>
    <I>Fri Sep 25 16:45:27 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001043.html">[eLua-dev] Windows CodeSourcery Toolchain
</A></li>
        <LI>Next message: <A HREF="001036.html">[eLua-dev] USB - HID &amp; MSD
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1035">[ date ]</a>
              <a href="thread.html#1035">[ thread ]</a>
              <a href="subject.html#1035">[ subject ]</a>
              <a href="author.html#1035">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Having reluctantly concluded that Lua on microcontrollers (in real projects)
is still a year or two off, I have been looking again at the 8-bit market
accepting I will have to code in C.

 

I was just blown away by what you can do with microcontrollers and the USB
interface these days. I got a small microchip development board using their
PIC18F46J50 controller which unfortunately has only 64k program and 3k data
memory, so hopeless for Lua. However it came with a simple test app loaded
which presented a composite HID and MSD USB device interface (no external
components required) and it had a full file system implementation (including
folders and long file names) using spare program Flash memory on the chip.
This is presented over the MSD interface and appears just like a USB flash
drive on the computer. As the icing on the cake, there is also a HID based
bootloader program so new firmware can be loaded over USB. All the software
(PC and PIC) is free and open source and the development system is also free
(express editions of MS Visual Studio for the PC end, free MPLAB and C18 for
the PIC) except that the PIC C compiler loses some optimisations after 60
days. Rather wonderfully, the PC sample software for the HID side was
supplied in the USB flash drive so you could run it directly from the device
itself! I was able to modify both PC and PIC software really easily and
complete a full build cycle for both machines within less than an hour. (I
cannot help contrasting this with the two days it took for my first eLua
build on Linux, mostly admittedly the problems of compiling the development
tools).

 

Once the memory sizes increase sufficiently this would make a really cool
eLua platform as you could just develop the scripts directly in the &quot;USB
Flash Drive&quot;. The use of MSD and HID is really cool because it eliminates
the need for custom USB drivers on the PC - drivers for these protocols are
already in every modern OS. Also using HID means you can emulate keyboards,
mice and game controllers directly, so producing devices that work with
existing software.

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/elua-dev/attachments/20090925/0cb23211/attachment.html">https://lists.berlios.de/pipermail/elua-dev/attachments/20090925/0cb23211/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001043.html">[eLua-dev] Windows CodeSourcery Toolchain
</A></li>
	<LI>Next message: <A HREF="001036.html">[eLua-dev] USB - HID &amp; MSD
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1035">[ date ]</a>
              <a href="thread.html#1035">[ thread ]</a>
              <a href="subject.html#1035">[ subject ]</a>
              <a href="author.html#1035">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-dev">More information about the eLua-dev
mailing list</a><br>
</body></html>

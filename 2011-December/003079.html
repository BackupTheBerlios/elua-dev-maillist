<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [eLua-dev] Unexpected behaviour in cpu module
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-dev/2011-December/index.html" >
   <LINK REL="made" HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20Unexpected%20behaviour%20in%20cpu%20module&In-Reply-To=%3CCAENe87r0QjQm-hNc95%2Bw3jt6wDf8-CmsKjuEXSgr1gFAfY%3DKEQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003122.html">
   <LINK REL="Next"  HREF="003080.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[eLua-dev] Unexpected behaviour in cpu module</H1>
    <B>Brian Thorne</B> 
    <A HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20Unexpected%20behaviour%20in%20cpu%20module&In-Reply-To=%3CCAENe87r0QjQm-hNc95%2Bw3jt6wDf8-CmsKjuEXSgr1gFAfY%3DKEQ%40mail.gmail.com%3E"
       TITLE="[eLua-dev] Unexpected behaviour in cpu module">hardbyte at gmail.com
       </A><BR>
    <I>Tue Dec  6 22:21:50 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003122.html">[eLua-dev] sermux doesn't work!
</A></li>
        <LI>Next message: <A HREF="003080.html">[eLua-dev] Unexpected behaviour in cpu module
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3079">[ date ]</a>
              <a href="thread.html#3079">[ thread ]</a>
              <a href="subject.html#3079">[ subject ]</a>
              <a href="author.html#3079">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I came across some strange behaviour when writing to the first 8 bits of a
32 bit register from elua with cpu.w8. The lua code seems to write copies
of the 8 bits to all other writeable bits in the targeted 32bit register;
if the register has RO bits they are unaffected. I have seen this on two
different boards (LM3S and an STM32F1). Is this expected and desired
behaviour? If so could we make this clearer in the documentation?

Using cpu.w8 with hardware bitbanding from the micro's datasheet or using
cpu.w32 were the two methods I found to successfully write to just the byte
referenced.

Cheers,

Brian
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/elua-dev/attachments/20111207/4724bb13/attachment.html">https://lists.berlios.de/pipermail/elua-dev/attachments/20111207/4724bb13/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003122.html">[eLua-dev] sermux doesn't work!
</A></li>
	<LI>Next message: <A HREF="003080.html">[eLua-dev] Unexpected behaviour in cpu module
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3079">[ date ]</a>
              <a href="thread.html#3079">[ thread ]</a>
              <a href="subject.html#3079">[ subject ]</a>
              <a href="author.html#3079">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-dev">More information about the eLua-dev
mailing list</a><br>
</body></html>

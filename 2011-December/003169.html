<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [eLua-dev] who is interested in increasing the flexibility of the serial module?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-dev/2011-December/index.html" >
   <LINK REL="made" HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20who%20is%20interested%20in%20increasing%20the%20flexibility%20of%0A%20the%20serial%20module%3F&In-Reply-To=%3C4EECCA90.7080405%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003168.html">
   <LINK REL="Next"  HREF="003175.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[eLua-dev] who is interested in increasing the flexibility of the serial module?</H1>
    <B>Nuccio Raciti</B> 
    <A HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20who%20is%20interested%20in%20increasing%20the%20flexibility%20of%0A%20the%20serial%20module%3F&In-Reply-To=%3C4EECCA90.7080405%40gmail.com%3E"
       TITLE="[eLua-dev] who is interested in increasing the flexibility of the serial module?">raciti.nuccio at gmail.com
       </A><BR>
    <I>Sat Dec 17 18:00:00 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003168.html">[eLua-dev] who is interested in increasing the flexibility of the serial module?
</A></li>
        <LI>Next message: <A HREF="003175.html">[eLua-dev] who is interested in increasing the flexibility of the serial module?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3169">[ date ]</a>
              <a href="thread.html#3169">[ thread ]</a>
              <a href="subject.html#3169">[ subject ]</a>
              <a href="author.html#3169">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Il 17/12/2011 17:51, Bogdan Marinescu ha scritto:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Sat, Dec 17, 2011 at 6:35 PM, Nuccio Raciti 
</I>&gt;<i> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">raciti.nuccio at gmail.com</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">raciti.nuccio at gmail.com</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     Il 17/12/2011 17:00, Bogdan Marinescu ha scritto:
</I>&gt;<i>
</I>&gt;<i>         Hi Nuccio,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>         On Sat, Dec 17, 2011 at 3:28 PM, Nuccio Raciti
</I>&gt;<i>         &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">raciti.nuccio at gmail.com</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">raciti.nuccio at gmail.com</A>&gt;
</I>&gt;<i>         &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">raciti.nuccio at gmail.com</A>
</I>&gt;<i>         &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">raciti.nuccio at gmail.com</A>&gt;&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>            Hi All,
</I>&gt;<i>
</I>&gt;<i>            potentially any eLua boards can have two or more UART,
</I>&gt;<i>            for example Mizar will have two physical UART plus one
</I>&gt;<i>         coming from
</I>&gt;<i>            the USB (CDC UART),
</I>&gt;<i>            so I think could be useful choice dynamically which UART
</I>&gt;<i>         will be
</I>&gt;<i>            used by the Console, by the TERM and so on....
</I>&gt;<i>
</I>&gt;<i>            So my proposal is to change dynamically (via eLua commands) the
</I>&gt;<i>            assignment.
</I>&gt;<i>
</I>&gt;<i>            What do you think?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>         It can be done, but I don't think I understand the use
</I>&gt;<i>         scenario. For example, let's assume that you want to change
</I>&gt;<i>         the console UART using an eLua command. But, in order to give
</I>&gt;<i>         an eLua command, you probably need to have eLua already up and
</I>&gt;<i>         running on an UART (the one configured at compile time). So
</I>&gt;<i>         what advantage would you have by changing the console UART at
</I>&gt;<i>         runtime when you already have a functional one? On the other
</I>&gt;<i>         hand, if you DON'T have a functional one, you probably won't
</I>&gt;<i>         be able to issue the eLua command(s) to change it. Right? Or
</I>&gt;<i>         I'm missing something?
</I>&gt;<i>
</I>&gt;<i>         Best,
</I>&gt;<i>         Bogdan
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>         _______________________________________________
</I>&gt;<i>         eLua-dev mailing list
</I>&gt;<i>         <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">eLua-dev at lists.berlios.de</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">eLua-dev at lists.berlios.de</A>&gt;
</I>&gt;<i>         <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">https://lists.berlios.de/mailman/listinfo/elua-dev</A>
</I>&gt;<i>
</I>&gt;<i>     Hi Bogdan,
</I>&gt;<i>
</I>&gt;<i>     suppose you have the console on Uart0 and a VGA module (like
</I>&gt;<i>     eluabrain or Mizar VGA module) on Uart1, now you could want to
</I>&gt;<i>     send commands via the console but you could get terminal output on
</I>&gt;<i>     VGA using TERM functionalities (using the VGA as a sort of
</I>&gt;<i>     &quot;synoptic screen&quot;).
</I>&gt;<i>
</I>&gt;<i>     Also, I'm near to finish the IDE, inside it I have a console
</I>&gt;<i>     terminal with ANSI/VT100 capability (a minimal set for now), so
</I>&gt;<i>     the user can run some eLua programs as Hungman without Hardware.
</I>&gt;<i>
</I>&gt;<i>     It will be wonderful, if without build and reprogram the board, he
</I>&gt;<i>     will able to see/run the same program on the VGA module.
</I>&gt;<i>
</I>&gt;<i>     So is more important to be able to change the &quot;TERM&quot;  assignment,
</I>&gt;<i>     but as we can have more UART also for the console, maybe we can
</I>&gt;<i>     start to think also for it.
</I>&gt;<i>
</I>&gt;<i>     For example if the USB is not connected the Console is on Uart0
</I>&gt;<i>     (via first HW serial port), but if the USB-CDC Uart is connected,
</I>&gt;<i>     the &quot;platform/xxx/platform.c&quot; should have the possibility to
</I>&gt;<i>     change (just  during the boot) the default Console.
</I>&gt;<i>
</I>&gt;<i>     I hope I have good exposed my point of view :-/
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Perfectly, thank you. I understand where you're heading now. 
</I>&gt;<i> Implementing this kind of thing shouldn't be much of an effort. The 
</I>&gt;<i> terminal subsystem already has generic functions for input/output 
</I>&gt;<i> which are assigned at runtime using pointers, so changing them is as 
</I>&gt;<i> easy as reinitializing the terminal code by calling 'term_init' (never 
</I>&gt;<i> tried that, but it should work). The console has an equivalent 
</I>&gt;<i> mechanism (src/newlib/getstd.c); if you change the pointers to 
</I>&gt;<i> read/write functions you get yourself a new console (you probably also 
</I>&gt;<i> need to empty the stdio buffers before changing the console). I can 
</I>&gt;<i> help with specific implementation details if you need this.
</I>&gt;<i>
</I>&gt;<i> Best,
</I>&gt;<i> Bogdan
</I>&gt;<i>
</I>Yes, isn't hard to implement, maybe just matter to change a constant 
&quot;CON_UART_ID&quot; with a more dynamic thing....but I have seen that  some 
changes are in common code, so we needs a common agreement...

Best,
Nuccio






&gt;<i>
</I>&gt;<i>     Ciao,
</I>&gt;<i>
</I>&gt;<i>     Nuccio
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     _______________________________________________
</I>&gt;<i>     eLua-dev mailing list
</I>&gt;<i>     <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">eLua-dev at lists.berlios.de</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">eLua-dev at lists.berlios.de</A>&gt;
</I>&gt;<i>     <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">https://lists.berlios.de/mailman/listinfo/elua-dev</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> eLua-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">eLua-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">https://lists.berlios.de/mailman/listinfo/elua-dev</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003168.html">[eLua-dev] who is interested in increasing the flexibility of the serial module?
</A></li>
	<LI>Next message: <A HREF="003175.html">[eLua-dev] who is interested in increasing the flexibility of the serial module?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3169">[ date ]</a>
              <a href="thread.html#3169">[ thread ]</a>
              <a href="subject.html#3169">[ subject ]</a>
              <a href="author.html#3169">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-dev">More information about the eLua-dev
mailing list</a><br>
</body></html>

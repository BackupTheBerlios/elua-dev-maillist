<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [eLua-dev] C and lua code profiling! fluctuations
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-dev/2012-June/index.html" >
   <LINK REL="made" HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20C%20and%20lua%20code%20profiling%21%20fluctuations&In-Reply-To=%3CCANKDJfZwbDZiPJnORkozgWVrhd1cEFJdQqX9dDwGfzSps%2Bpz2Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003606.html">
   <LINK REL="Next"  HREF="003626.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[eLua-dev] C and lua code profiling! fluctuations</H1>
    <B>Bogdan Marinescu</B> 
    <A HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20C%20and%20lua%20code%20profiling%21%20fluctuations&In-Reply-To=%3CCANKDJfZwbDZiPJnORkozgWVrhd1cEFJdQqX9dDwGfzSps%2Bpz2Q%40mail.gmail.com%3E"
       TITLE="[eLua-dev] C and lua code profiling! fluctuations">bogdan.marinescu at gmail.com
       </A><BR>
    <I>Mon Jun 18 09:54:10 CEST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="003606.html">[eLua-dev] C and lua code profiling! fluctuations
</A></li>
        <LI>Next message: <A HREF="003626.html">[eLua-dev] scones -f cross-lua.py - windows support?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3607">[ date ]</a>
              <a href="thread.html#3607">[ thread ]</a>
              <a href="subject.html#3607">[ subject ]</a>
              <a href="author.html#3607">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Mon, Jun 18, 2012 at 10:47 AM, agostain &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">agostino.difiglia at gmail.com</A>&gt; wrote:
&gt;<i> Hi guys,
</I>&gt;<i>
</I>&gt;<i> I m currently working on an lpc1769 and I wrote some custom C modules that
</I>&gt;<i> send over UART (my version supporting rcv buffer). I have a main loop where
</I>&gt;<i> I process data; send data and execute a simple application. The packet
</I>&gt;<i> construction and sending is in a C module while the other part of the
</I>&gt;<i> program is in lua. I profiled each part of my program and I noticed that
</I>&gt;<i> while the lua application has a constant execution time the other
</I>&gt;<i> parts(sending and data processing with same data length) have peaks that can
</I>&gt;<i> go to double as much as the mean execution time.
</I>&gt;<i> What can be the cause of that? Is tehre something I might oversee in my
</I>&gt;<i> module implementation? How can I get somewhat stable execution times? Are
</I>&gt;<i> there any tricks I could make us of?
</I>
The first thing that comes to mind is &quot;interrupt storm&quot;. If there is
an interrupt in yout system that happens lots of times per second,
you'll start noticing slowdowns of the main execution flow at some
point. So you might want to check your interrupt firing rate somehow.
Maybe add a counter to the interrupt handler and print it after a
while, or turn on/off a LED everytime the interrupt executes, stuff
like that.

Best,
Bogdan

&gt;<i>
</I>&gt;<i> thank you in advance ;-)
</I>&gt;<i>
</I>&gt;<i> cheers,
</I>&gt;<i>
</I>&gt;<i> Agostino
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://elua-development.2368040.n2.nabble.com/C-and-lua-code-profiling-fluctuations-tp7577494.html">http://elua-development.2368040.n2.nabble.com/C-and-lua-code-profiling-fluctuations-tp7577494.html</A>
</I>&gt;<i> Sent from the eLua Development mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> eLua-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">eLua-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">https://lists.berlios.de/mailman/listinfo/elua-dev</A>
</I></PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003606.html">[eLua-dev] C and lua code profiling! fluctuations
</A></li>
	<LI>Next message: <A HREF="003626.html">[eLua-dev] scones -f cross-lua.py - windows support?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3607">[ date ]</a>
              <a href="thread.html#3607">[ thread ]</a>
              <a href="subject.html#3607">[ subject ]</a>
              <a href="author.html#3607">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-dev">More information about the eLua-dev
mailing list</a><br>
</body></html>

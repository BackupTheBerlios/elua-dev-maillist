<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [eLua-dev] thoughts on Lua 5.2 for eLua
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-dev/2011-February/index.html" >
   <LINK REL="made" HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20thoughts%20on%20Lua%205.2%20for%20eLua&In-Reply-To=%3C85861A744C29EA46BFD9BB61889AE59D4714BA002F%40KLMExch.klmicrowave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002002.html">
   <LINK REL="Next"  HREF="002045.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[eLua-dev] thoughts on Lua 5.2 for eLua</H1>
    <B>King, Mike</B> 
    <A HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20thoughts%20on%20Lua%205.2%20for%20eLua&In-Reply-To=%3C85861A744C29EA46BFD9BB61889AE59D4714BA002F%40KLMExch.klmicrowave.com%3E"
       TITLE="[eLua-dev] thoughts on Lua 5.2 for eLua">MKing at klmicrowave.com
       </A><BR>
    <I>Tue Feb  8 22:58:01 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002002.html">[eLua-dev] thoughts on Lua 5.2 for eLua
</A></li>
        <LI>Next message: <A HREF="002045.html">[eLua-dev] thoughts on Lua 5.2 for eLua
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2003">[ date ]</a>
              <a href="thread.html#2003">[ thread ]</a>
              <a href="subject.html#2003">[ subject ]</a>
              <a href="author.html#2003">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;&gt;&gt;<i>- simpler implementation for string buffers
</I>
&gt;&gt;&gt;<i>I thought that Lua's implementation was one of the simplests possible.
</I>&gt;&gt;&gt;<i>What would we gain here ?
</I>
&gt;&gt;<i>It appears the C API now has a new function (luaL_buffinitsize) which allows
</I>&gt;&gt;<i>one to set the final size of the buffer.
</I>
&gt;<i>Thanks! Is it a 5.2 feature ? I'll check ...
</I>&gt;<i>I'm not sure if I understood the benefits but these would be restricted to 
</I>&gt;<i>fixed or known maximum-sizes string operations right ? 
</I>&gt;<i>Surely interesting for embedded apps but a bit hard to explain to regular 
</I>&gt;<i>Lua users right ?
</I>
I've looked at the Lua 5.1 buffer code in the past and it clearly inefficient.  Someone on the mailing list explained the reason.  It had something to do with it only using the public API.

I haven't looked at the code yet, but I know the algorithm could be improved (no concats) if it knew the final size.


CONFIDENTIALITY NOTICE: This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain information that is confidential or proprietary to K&amp;L Microwave, Inc. Any unauthorized review, use, disclosure or distribution is prohibited. 
If this communication has been transmitted from a U.S. location it may also contain data subject to the International Traffic in Arms Regulations or U.S. Export Administration Regulations and, if so, cannot be disseminated, distributed or copied to foreign nationals, residing in the U.S. or abroad, without the prior approval of the U.S. Department of State or appropriate export licensing authority. If you have received this communication in error, please notify the sender by reply e-mail and delete or destroy all copies of this e-mail message and/or any file attachment(s).


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002002.html">[eLua-dev] thoughts on Lua 5.2 for eLua
</A></li>
	<LI>Next message: <A HREF="002045.html">[eLua-dev] thoughts on Lua 5.2 for eLua
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2003">[ date ]</a>
              <a href="thread.html#2003">[ thread ]</a>
              <a href="subject.html#2003">[ subject ]</a>
              <a href="author.html#2003">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-dev">More information about the eLua-dev
mailing list</a><br>
</body></html>

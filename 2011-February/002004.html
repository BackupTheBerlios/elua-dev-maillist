<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [eLua-dev] How can I read the AD samples simultaneously?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-dev/2011-February/index.html" >
   <LINK REL="made" HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20How%20can%20I%20read%20the%20AD%20samples%20simultaneously%3F&In-Reply-To=%3CAANLkTikF-xcuVBy-vLz07m28XJkPYKF0NQLWPxB5%3DB1x%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002000.html">
   <LINK REL="Next"  HREF="002053.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[eLua-dev] How can I read the AD samples simultaneously?</H1>
    <B>James Snyder</B> 
    <A HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20How%20can%20I%20read%20the%20AD%20samples%20simultaneously%3F&In-Reply-To=%3CAANLkTikF-xcuVBy-vLz07m28XJkPYKF0NQLWPxB5%3DB1x%40mail.gmail.com%3E"
       TITLE="[eLua-dev] How can I read the AD samples simultaneously?">jbsnyder at fanplastic.org
       </A><BR>
    <I>Wed Feb  9 05:05:28 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002000.html">[eLua-dev] How can I read the AD samples simultaneously?
</A></li>
        <LI>Next message: <A HREF="002053.html">[eLua-dev] How can I read the AD samples simultaneously?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2004">[ date ]</a>
              <a href="thread.html#2004">[ thread ]</a>
              <a href="subject.html#2004">[ subject ]</a>
              <a href="author.html#2004">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Check out these examples:
<A HREF="http://wiki.eluaproject.net/ADCPoll">http://wiki.eluaproject.net/ADCPoll</A>
<A HREF="http://wiki.eluaproject.net/ADCScope">http://wiki.eluaproject.net/ADCScope</A>

You can just pass multiple channels instead of one.  Note, however
that I'm not using all three ADCs, just one and using multiplexing, so
the samples won't be at precisely the same time.  If
scanning/multiplexing isn't suitable, it's certainly possible to use
the additional channels, but it likely wouldn't fit too well with the
existing API and might require a platform specific module to
configure.

I would have to dig around a bit to figure out what clock the ADC
peripheral is running at and what the window size is in terms of us or
ns, but I believe I have the peripheral clock set pretty high, so the
delay between scanned channels might be somewhere in the microsecond
range.

Regardless if you need help or more details let me know.

Best.

-jsnyder

On Tue, Feb 8, 2011 at 1:49 PM, Ives Cunha &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">ivesncc at gmail.com</A>&gt; wrote:
&gt;<i> Hello guys,
</I>&gt;<i>
</I>&gt;<i> I'm doing an AC power meter using STM32F103RET6 to collect samples, but to
</I>&gt;<i> read the phase between voltage and current I need to take two samples
</I>&gt;<i> simultaneously.
</I>&gt;<i> I know that the STM32F103RET6 has three ADCs, and that they can take
</I>&gt;<i> simultaneous samples.
</I>&gt;<i> I looked at the eLua documentation and found nothing about it.
</I>&gt;<i> Is there a way to get two readings on two different channels simultaneously
</I>&gt;<i> using eLua?
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Ives
</I>&gt;<i> _______________________________________________
</I>&gt;<i> eLua-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">eLua-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">https://lists.berlios.de/mailman/listinfo/elua-dev</A>
</I>&gt;<i>
</I>&gt;<i>
</I>


-- 
James Snyder
Biomedical Engineering
Northwestern University
<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">jbsnyder at gmail.com</A>
PGP: <A HREF="http://fanplastic.org/key.txt">http://fanplastic.org/key.txt</A>
Phone: (847) 448-0386

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002000.html">[eLua-dev] How can I read the AD samples simultaneously?
</A></li>
	<LI>Next message: <A HREF="002053.html">[eLua-dev] How can I read the AD samples simultaneously?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2004">[ date ]</a>
              <a href="thread.html#2004">[ thread ]</a>
              <a href="subject.html#2004">[ subject ]</a>
              <a href="author.html#2004">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-dev">More information about the eLua-dev
mailing list</a><br>
</body></html>

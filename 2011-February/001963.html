<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [eLua-dev] Multitasking Proposal
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-dev/2011-February/index.html" >
   <LINK REL="made" HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20Multitasking%20Proposal&In-Reply-To=%3CAANLkTikZqSv26y-KsxkgyaZ2f0_Yx7VxZ1qC5r6eKz5M%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001964.html">
   <LINK REL="Next"  HREF="001966.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[eLua-dev] Multitasking Proposal</H1>
    <B>Dado Sutter</B> 
    <A HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20Multitasking%20Proposal&In-Reply-To=%3CAANLkTikZqSv26y-KsxkgyaZ2f0_Yx7VxZ1qC5r6eKz5M%40mail.gmail.com%3E"
       TITLE="[eLua-dev] Multitasking Proposal">dadosutter at gmail.com
       </A><BR>
    <I>Tue Feb  1 13:08:07 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001964.html">[eLua-dev] Multitasking Proposal
</A></li>
        <LI>Next message: <A HREF="001966.html">[eLua-dev] Multitasking Proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1963">[ date ]</a>
              <a href="thread.html#1963">[ thread ]</a>
              <a href="subject.html#1963">[ subject ]</a>
              <a href="author.html#1963">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Feb 1, 2011 at 07:43, John Hind &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">john.hind at zen.co.uk</A>&gt; wrote:

&gt;<i> Thanks for your comments and time, Mike.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> You need to register and then ask one of the admins to add you to the
</I>&gt;<i> project before you can edit the WiKi. I had to ask - the system we are using
</I>&gt;<i> is not very helpful. You also have to be a bit sneaky to work out how to add
</I>&gt;<i> a page as the index pages are not editable even when you are authorised!
</I>&gt;<i>
</I>
Of course I'll be glad to change anything (roles, status, ...)  you need to
have full access to edit those pages.
Again, we can also move this to our MoinMoin user-wiki at
<A HREF="http://wiki.eluaproject.net,">http://wiki.eluaproject.net,</A> which is much easier and powerful to edit,
although we don't need fancy features for this brainstorming (and the reason
why John chosed to keep it in the tracker was probably because it is much
more related to the core development than to user or community oriented
&quot;project&quot;.)


&gt;<i> The locking scheme **should** be mostly automatic and deadlock free. I
</I>&gt;<i> included an explicit, Lua level lock only for 'unusual' situations where
</I>&gt;<i> there are application level data dependencies in Lua (such as a linked list
</I>&gt;<i> or ring buffer with pointers held to entries in a table). If one coroutine
</I>&gt;<i> takes the lock (it is one global lock) and does not release it, the
</I>&gt;<i> asynchronous yield will remain blocked. Probably, the lock should be forced
</I>&gt;<i> off each time context is switched and perhaps an exception raised if it is
</I>&gt;<i> on when a coroutine explicitly yields. There is also a separate, fully
</I>&gt;<i> automatic, lock to protect Lua's internal data structures and it should be
</I>&gt;<i> impossible for that to deadlock (if I have coded it right).
</I>&gt;<i>
</I>
Best
Dado






&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *From:* <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">elua-dev-bounces at lists.berlios.de</A> [mailto:
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">elua-dev-bounces at lists.berlios.de</A>] *On Behalf Of *King, Mike
</I>&gt;<i> *Sent:* 01 February 2011 02:44
</I>&gt;<i> *To:* eLua Users and Development List (www.eluaproject.net)
</I>&gt;<i> *Subject:* Re: [eLua-dev] Multitasking Proposal
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I would have added this to the Discussion Page if I knew how to.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This seems like a good idea.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> When I first red the proposal, I didn&#8217;t understand the problem.  The &#8220;big
</I>&gt;<i> loop&#8221; approach seemed fine until I realized this is really about interrupt
</I>&gt;<i> handling.  Of course, it could be used in a broader sense.  At first, I was
</I>&gt;<i> thinking why add a level of indirection on a microcontroller platform.  I
</I>&gt;<i> was stuck on the word multitasking.  I understand now.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I haven&#8217;t followed all your implementation details as of yet.  Will the
</I>&gt;<i> locking scheme prevent deadlocks?  Is it possible to just use one &#8220;big&#8221; lock
</I>&gt;<i> that protects global state?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> *From:* <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">elua-dev-bounces at lists.berlios.de</A> [
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">elua-dev-bounces at lists.berlios.de</A>] On Behalf Of John Hind [
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">john.hind at zen.co.uk</A>]
</I>&gt;<i> *Sent:* Monday, January 31, 2011 11:01 AM
</I>&gt;<i> *To:* <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">elua-dev at lists.berlios.de</A>
</I>&gt;<i> *Subject:* [eLua-dev] Multitasking Proposal
</I>&gt;<i>
</I>&gt;<i> Hi Everybody,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I have just published a proposal paper here:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://tracker.eluaproject.net/projects/elua/wiki/PreemptiveCoroutinesProposal">http://tracker.eluaproject.net/projects/elua/wiki/PreemptiveCoroutinesProposal</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> outlining my ideas (standing on the shoulders of giants) on how preemptive
</I>&gt;<i> multitasking could be provided in eLua. Please read and comment and
</I>&gt;<i> particularly criticise any flaws or weaknesses I may have missed. I also
</I>&gt;<i> believe this provides an alternative approach which ought to be considered
</I>&gt;<i> before the INT module (on which my proposal builds) is set in stone within
</I>&gt;<i> eLua.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Best regards,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> John Hind.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> CONFIDENTIALITY NOTICE: This e-mail message, including any attachments, is
</I>&gt;<i> for the sole use of the intended recipient(s) and may contain information
</I>&gt;<i> that is confidential or proprietary to K&amp;L Microwave, Inc. Any unauthorized
</I>&gt;<i> review, use, disclosure or distribution is prohibited. If this communication
</I>&gt;<i> has been transmitted from a U.S. location it may also contain data subject
</I>&gt;<i> to the International Traffic in Arms Regulations or U.S. Export
</I>&gt;<i> Administration Regulations and, if so, cannot be disseminated, distributed
</I>&gt;<i> or copied to foreign nationals, residing in the U.S. or abroad, without the
</I>&gt;<i> prior approval of the U.S. Department of State or appropriate export
</I>&gt;<i> licensing authority. If you have received this communication in error,
</I>&gt;<i> please notify the sender by reply e-mail and delete or destroy all copies of
</I>&gt;<i> this e-mail message and/or any file attachment(s).
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> eLua-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">eLua-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/elua-dev">https://lists.berlios.de/mailman/listinfo/elua-dev</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/elua-dev/attachments/20110201/f8e6b52c/attachment.html">https://lists.berlios.de/pipermail/elua-dev/attachments/20110201/f8e6b52c/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001964.html">[eLua-dev] Multitasking Proposal
</A></li>
	<LI>Next message: <A HREF="001966.html">[eLua-dev] Multitasking Proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1963">[ date ]</a>
              <a href="thread.html#1963">[ thread ]</a>
              <a href="subject.html#1963">[ subject ]</a>
              <a href="author.html#1963">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-dev">More information about the eLua-dev
mailing list</a><br>
</body></html>

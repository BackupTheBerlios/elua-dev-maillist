<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [eLua-dev] thoughts on Lua 5.2 for eLua
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-dev/2011-February/index.html" >
   <LINK REL="made" HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20thoughts%20on%20Lua%205.2%20for%20eLua&In-Reply-To=%3CAANLkTikHuYPo-Fd3ShUWAo0fqXaPc%3DB5U3OuPrgFe9L1%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002045.html">
   <LINK REL="Next"  HREF="002000.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[eLua-dev] thoughts on Lua 5.2 for eLua</H1>
    <B>Bogdan Marinescu</B> 
    <A HREF="mailto:elua-dev%40lists.berlios.de?Subject=Re%3A%20%5BeLua-dev%5D%20thoughts%20on%20Lua%205.2%20for%20eLua&In-Reply-To=%3CAANLkTikHuYPo-Fd3ShUWAo0fqXaPc%3DB5U3OuPrgFe9L1%40mail.gmail.com%3E"
       TITLE="[eLua-dev] thoughts on Lua 5.2 for eLua">bogdan.marinescu at gmail.com
       </A><BR>
    <I>Tue Feb  8 22:05:00 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002045.html">[eLua-dev] thoughts on Lua 5.2 for eLua
</A></li>
        <LI>Next message: <A HREF="002000.html">[eLua-dev] How can I read the AD samples simultaneously?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2001">[ date ]</a>
              <a href="thread.html#2001">[ thread ]</a>
              <a href="subject.html#2001">[ subject ]</a>
              <a href="author.html#2001">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;<i> Are there any plans on using Lua 5.2 at some point? &#160;The following changes look interesting for eLua.
</I>
It's not on the roadmap yet. The plan (at least my plan) was to wait
for the official 5.2 to be released and then allow some time for it to
become more wide spread and to interpret the associated feedback.
Personally the only good reason I see right now to move to Lua 5.2 is
that the rest of the world is going to do it eventually.

&gt;<i> - yieldable pcall and metamethods
</I>
If you really need this you can get it with the coco patch that was
already ported to eLua on a separate branch.

&gt;<i> - new library for bitwise operations
</I>
You already have bit. in eLua. Also I'm planning to integrate a patch
that would make bitwise operations accesible directly from the
language (without the need to use a separate module) simply because it
makes sense on embedded.

&gt;<i> - light C functions
</I>
We have that with the LTR patch. And we have much more than that:
light tables (they're called 'rotables'). Together with light function
they allow a C module written for Lua to consume exactly 0 bytes of
RAM memory when registering to Lua. Adapting the LTR to Lua 5.2 will
be one quite difficult task.

&gt;<i> - emergency garbage collector
</I>
We have that thanks to Robert Jakabosky.

&gt;<i> - no more verification of opcode consistency
</I>
I don't think this makes a significant impact on the speed/size of the
code. I do remember some discussions about this on the Lua list but I
don't remember the conclusions :)

&gt;<i> - simpler implementation for string buffers
</I>
Same as above: no idea about the impact.

&gt;<i> - parser uses much less C-stack space (no more auto arrays)
</I>
eLua already addresses this with some parser-related patches. I'll
have to check against the 5.2 distro at some point to see what are the
differences between my (quite ad-hoc) patches and their
implementation. Having the parser use the heap instead of the stack is
a Very Good Thing. Stack overflow errors are a pain to debug.

&gt;<i> - generational mode for garbage collection (experimental)
</I>
My knowledge about garbage collectors is very limited; consequently, I
have no idea what the actual impact of this would be. I'd love to hear
the oppinion of someone with more expertise in this area.

Best,
Bogdan

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002045.html">[eLua-dev] thoughts on Lua 5.2 for eLua
</A></li>
	<LI>Next message: <A HREF="002000.html">[eLua-dev] How can I read the AD samples simultaneously?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2001">[ date ]</a>
              <a href="thread.html#2001">[ thread ]</a>
              <a href="subject.html#2001">[ subject ]</a>
              <a href="author.html#2001">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-dev">More information about the eLua-dev
mailing list</a><br>
</body></html>
